import net from 'node:net';
import { AfcError, AfcFopenMode, AfcOpcode } from './enums.js';
export interface AfcHeader {
    magic: Buffer;
    entireLength: bigint;
    thisLength: bigint;
    packetNum: bigint;
    operation: bigint;
}
export interface AfcResponse {
    status: AfcError;
    data: Buffer;
    operation: AfcOpcode;
    rawHeader: AfcHeader;
}
export declare function writeUInt64LE(value: bigint | number): Buffer;
export declare function readUInt64LE(buf: Buffer, offset?: number): bigint;
export declare function cstr(str: string): Buffer;
export declare function encodeHeader(op: AfcOpcode, packetNum: bigint, payloadLen: number, thisLenOverride?: number): Buffer;
export declare function readExact(socket: net.Socket, n: number, timeoutMs?: number): Promise<Buffer>;
export declare function readAfcHeader(socket: net.Socket): Promise<AfcHeader>;
export declare function readAfcResponse(socket: net.Socket): Promise<AfcResponse>;
export declare function sendAfcPacket(socket: net.Socket, op: AfcOpcode, packetNum: bigint, payload?: Buffer, thisLenOverride?: number): Promise<void>;
export declare function parseCStringArray(buf: Buffer): string[];
export declare function parseKeyValueNullList(buf: Buffer): Record<string, string>;
export declare function buildFopenPayload(mode: AfcFopenMode, path: string): Buffer;
export declare function buildReadPayload(handle: bigint | number, size: bigint | number): Buffer;
export declare function buildClosePayload(handle: bigint | number): Buffer;
export declare function buildRemovePayload(path: string): Buffer;
export declare function buildMkdirPayload(path: string): Buffer;
export declare function buildStatPayload(path: string): Buffer;
export declare function buildRenamePayload(src: string, dst: string): Buffer;
export declare function buildLinkPayload(type: number, target: string, source: string): Buffer;
/**
 * Receive a single length-prefixed plist from the socket
 */
export declare function recvOnePlist(socket: net.Socket): Promise<any>;
export declare function rsdHandshakeForRawService(socket: net.Socket): Promise<void>;
export declare function nextReadChunkSize(left: bigint | number): number;
/**
 * Convert nanoseconds to milliseconds for Date construction
 * @param nanoseconds - Time value in nanoseconds as a string
 * @returns Time value in milliseconds
 */
export declare function nanosecondsToMilliseconds(nanoseconds: string): number;
//# sourceMappingURL=codec.d.ts.map